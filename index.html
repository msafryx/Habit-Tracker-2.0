<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Habit Tracker 2.0</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="page-header">
      <div class="brand">
        <div class="dot"></div>
        <div>
          <p class="eyebrow">Habit Tracker</p>
          <h1>Habit Tracker 2.0</h1>
          <p class="lede">
            A professional, real-time habit system with live dates, weekly and
            monthly rollups, and full CRUD for your routines.
          </p>
        </div>
      </div>
      <div class="header-actions">
        <div class="clock">
          <p class="label">Today</p>
          <div class="clock-time" id="current-datetime">--</div>
        </div>
        <button class="primary" id="mark-today">Mark today perfect</button>
        <button class="ghost" id="clear-data">Clear all data</button>
      </div>
    </header>

    <section class="info-grid">
      <div class="stat-card">
        <p class="label">Current streak</p>
        <div class="stat-value" id="current-streak">0 days</div>
        <p class="caption">Perfect-day streak in this month.</p>
      </div>
      <div class="stat-card">
        <p class="label">Habits tracked</p>
        <div class="stat-value" id="habit-count">0</div>
        <p class="caption">Add, edit, or delete habits any time.</p>
      </div>
      <div class="stat-card">
        <p class="label">Week completion</p>
        <div class="stat-value" id="week-progress">0%</div>
        <div class="progress-shell">
          <div class="progress-bar" id="week-progress-bar"></div>
        </div>
        <p class="caption">Live average across this week.</p>
      </div>
      <div class="stat-card">
        <p class="label">Month completion</p>
        <div class="stat-value" id="month-progress">0%</div>
        <div class="progress-shell">
          <div class="progress-bar" id="month-progress-bar"></div>
        </div>
        <p class="caption">Live average across this month.</p>
      </div>
    </section>

    <main class="layout">
      <section class="panel">
        <div class="panel-header">
          <div>
            <p class="eyebrow">Daily logging</p>
            <h2>Week overview</h2>
            <p class="caption">
              Check off todayâ€™s habits and add notes. Everything updates
              instantly across the dashboard.
            </p>
          </div>
          <div class="panel-actions">
            <span class="sync" id="sync-status">Synced</span>
          </div>
        </div>
        <div class="table" id="week-table"></div>
      </section>

      <aside class="panel side">
        <div class="panel-header compact">
          <div>
            <p class="eyebrow">Manage habits</p>
            <h3>Create / edit / delete</h3>
          </div>
        </div>

        <form id="habit-form" class="habit-form">
          <div class="field">
            <label for="habit-name">Habit name</label>
            <input
              id="habit-name"
              type="text"
              placeholder="e.g., 10k steps"
              required
            />
          </div>
          <div class="field grouped">
            <div>
              <label for="habit-icon">Icon</label>
              <div class="icon-selector-wrapper">
                <input
                  id="habit-icon"
                  type="text"
                  placeholder="Choose or type emoji"
                  maxlength="4"
                  readonly
                />
                <button type="button" class="icon-picker-btn" id="open-icon-picker">ðŸŽ¨</button>
              </div>
              <div class="emoji-picker" id="emoji-picker" hidden>
                <div class="emoji-categories">
                  <button type="button" class="emoji-category-btn active" data-category="all">All</button>
                  <button type="button" class="emoji-category-btn" data-category="health">Health</button>
                  <button type="button" class="emoji-category-btn" data-category="fitness">Fitness</button>
                  <button type="button" class="emoji-category-btn" data-category="productivity">Work</button>
                  <button type="button" class="emoji-category-btn" data-category="mindset">Mind</button>
                  <button type="button" class="emoji-category-btn" data-category="food">Food</button>
                  <button type="button" class="emoji-category-btn" data-category="social">Social</button>
                </div>
                <div class="emoji-grid" id="emoji-grid"></div>
              </div>
            </div>
            <div>
              <label for="habit-category">Category</label>
              <div class="category-selector-wrapper">
                <select id="habit-category" class="category-select">
                  <option value="">Select category</option>
                  <option value="Health">Health</option>
                  <option value="Fitness">Fitness</option>
                  <option value="Productivity">Productivity</option>
                  <option value="Mindset">Mindset</option>
                  <option value="Growth">Growth</option>
                  <option value="Relationships">Relationships</option>
                  <option value="Finance">Finance</option>
                  <option value="Learning">Learning</option>
                  <option value="Creative">Creative</option>
                  <option value="Other">Other</option>
                  <option value="__custom__">+ Add Custom</option>
                </select>
                <input
                  id="habit-category-custom"
                  type="text"
                  placeholder="Enter custom category"
                  class="category-custom-input"
                  hidden
                />
              </div>
            </div>
          </div>
          <button class="primary" type="submit" id="habit-submit">
            Add habit
          </button>
          <button class="ghost" type="button" id="cancel-edit" hidden>
            Cancel edit
          </button>
        </form>

        <div class="divider"></div>

        <div class="panel-header compact">
          <div>
            <p class="eyebrow">Current list</p>
            <h3>Tap to update</h3>
          </div>
          <span class="tag neutral" id="habit-total-tag">0 habits</span>
        </div>
        <ul class="habit-list" id="habit-list"></ul>
      </aside>
    </main>

    <section class="panel">
      <div class="panel-header">
        <div>
          <p class="eyebrow">Performance</p>
          <h2>Weekly progress chart</h2>
          <p class="caption">
            Every day this week, with real completion percentages.
          </p>
        </div>
      </div>
      <div class="progress-grid" id="weekly-chart"></div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <div>
          <p class="eyebrow">Overview</p>
          <h2>Monthly overview</h2>
          <p class="caption">
            Track the full month with daily completion bars and weekly rollups.
          </p>
        </div>
      </div>
      <div class="panel-actions">
        <button class="ghost" id="open-current-month">View month detail</button>
      </div>
      <div class="month-layout">
        <div class="month-grid" id="month-grid"></div>
        <div class="week-rollup" id="week-rollup"></div>
      </div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <div>
          <p class="eyebrow">Annual</p>
          <h2>Annual overview</h2>
          <p class="caption">
            Click any month to inspect its daily progress and streak highlights.
          </p>
        </div>
      </div>
      <div class="annual-grid" id="annual-grid"></div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <div>
          <p class="eyebrow">Momentum</p>
          <h2>Streak milestones</h2>
          <p class="caption">
            Celebrate perfect days and unlock badges as your streak grows.
          </p>
        </div>
      </div>
      <div class="milestones" id="milestones"></div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <div>
          <p class="eyebrow">Notes</p>
          <h2>Notes & reflections</h2>
          <p class="caption">
            Capture highlights, blockers, or tweaks you want to try.
          </p>
        </div>
        <div class="panel-actions">
          <button class="ghost" id="view-all-notes">View all notes</button>
        </div>
      </div>
      <div class="notes-area">
        <textarea
          id="notes"
          placeholder="Jot down insights, wins, or ideas to improve your routines."
        ></textarea>
        <div class="notes-actions">
          <button class="primary" id="save-notes">Save notes</button>
          <span class="caption" id="notes-status">Unsaved</span>
        </div>
      </div>
    </section>

    <!-- Notes Modal -->
    <div class="modal-backdrop" id="notes-modal" hidden>
      <div class="modal notes-modal">
        <div class="modal-header">
          <div>
            <p class="eyebrow">All Notes</p>
            <h3>Your Notes & Reflections</h3>
            <p class="caption" id="notes-modal-summary">View and edit all your saved notes</p>
          </div>
          <button class="ghost" id="close-notes-modal">Close</button>
        </div>
        <div class="modal-content">
          <div class="notes-editor-area">
            <textarea
              id="notes-editor"
              placeholder="Start writing your notes here..."
            ></textarea>
            <div class="notes-actions">
              <button class="primary" id="save-notes-editor">Save changes</button>
              <span class="caption" id="notes-editor-status">Ready to edit</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>
        Data is saved in the database and syncs in real-time across all devices.
      </p>
    </footer>

    <div class="modal-backdrop" id="month-modal" hidden>
      <div class="modal">
        <div class="modal-header">
          <div>
            <p class="eyebrow">Month detail</p>
            <h3 id="modal-month-label">Month</h3>
            <p class="caption" id="modal-month-summary">--</p>
          </div>
          <button class="ghost" id="close-modal">Close</button>
        </div>
        <div class="modal-content">
          <div class="modal-days" id="modal-days"></div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
